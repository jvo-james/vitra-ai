<!DOCTYPE html>
<html lang="en" aria-theme="light">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Vitra AI – Dashboard</title>
  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBhaYOcLMXuobCT-vaXr-zXTZnBfaheAIY",
      authDomain: "vitra-ai-712ea.firebaseapp.com",
      projectId: "vitra-ai-712ea",
      storageBucket: "vitra-ai-712ea.appspot.com",
      messagingSenderId: "306868103753",
      appId: "1:306868103753:web:e2d7700f8ad34c1e17ed98"
    };
    firebase.initializeApp(firebaseConfig);
  </script>
  <style>
    /*──────── RESET & BASE ────────*/
    *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
    html { font-family: 'Montserrat', sans-serif; scroll-behavior: smooth; }
    body { background: var(--bg); color: var(--text); transition: background .3s, color .3s;}
    a { text-decoration:none; color:inherit; }
    img { max-width:100%; display:block; }
    ul { list-style:none; }
    button { font:inherit; cursor:pointer; border:none; background:none; }

    /*──────── VARIABLES ────────*/
    :root {
      --primary: #386BFF;
      --surface: #FFFFFF;
      --bg: #F7FAFE;
      --text: #1A1A1A;
      --muted: #555555;
      --radius: 0.75rem;
      --padding: 1.5rem;
      --gap: 1rem;
      --max-width: 1200px;
    }
    html.dark {
      --bg: #1F2233;
      --surface: #2B2E44;
      --text: #E0E0E0;
      --muted: #888888;
    }

    /*──────── GLOBAL ────────*/
    body { display:flex; min-height:100vh; }
    .sidebar {
      width:250px; background:var(--surface); padding:2rem 1rem;
      display:flex; flex-direction:column; gap:1rem; box-shadow:2px 0 8px rgba(0,0,0,0.1);
    }
    .sidebar .logo { font-size:1.5rem; font-weight:700; color:var(--primary); margin-bottom:2rem; text-align:center; }
    .sidebar nav a { padding:.75rem 1rem; border-radius:var(--radius); transition:background .2s; }
    .sidebar nav a.active,
    .sidebar nav a:hover { background:var(--primary); color:#fff; }

    .main { flex:1; display:flex; flex-direction:column; }
    .topbar {
      display:flex; align-items:center; justify-content:space-between;
      padding:1rem 2rem; background:var(--surface); box-shadow:0 2px 8px rgba(0,0,0,0.1);
    }
    .topbar .welcome { font-size:1.25rem; }
    .topbar .controls { display:flex; align-items:center; gap:1rem; }
    .topbar button { padding:.5rem 1rem; border-radius:var(--radius); background:var(--primary); color:#fff; }

    .content {
      padding:2rem; max-width:var(--max-width); margin:auto;
      display:grid; grid-template-columns:repeat(auto-fit, minmax(240px,1fr)); gap:var(--gap);
    }
    .card {
      background:var(--surface); border-radius:var(--radius);
      box-shadow:0 2px 8px rgba(0,0,0,0.1); padding:var(--padding);
      display:flex; flex-direction:column; justify-content:space-between;
      transition:transform .2s,box-shadow .2s;
    }
    .card:hover { transform: translateY(-5px); box-shadow:0 4px 12px rgba(0,0,0,0.15); }
    .card i { font-size:2.5rem; color:var(--primary); margin-bottom:1rem; }
    .card h4 { margin-bottom:.5rem; }
    .card p { flex:1; margin-bottom:1rem; color:var(--muted); }
    .card a { margin-top:auto; display:inline-block; padding:.5rem 1rem; background:var(--primary); color:#fff; border-radius:var(--radius); }

    @media(max-width:768px){
      .sidebar { display:none; }
      body { flex-direction:column; }
      .topbar { justify-content:center; }
    }
  </style>
</head>
<body>

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="logo">Vitra AI</div>
    <nav>
      <a href="#profile" class="active"><i class="fas fa-user-circle"></i> Profile</a>
      <a href="#epharmacy"><i class="fas fa-pills"></i> E-Pharmacy</a>
      <a href="#consult"><i class="fas fa-calendar-check"></i> Consult Booking</a>
      <a href="#diet"><i class="fas fa-apple-alt"></i> Diet Plan</a>
      <a href="#therapy"><i class="fas fa-brain"></i> AI Therapist</a>
      <a href="#newsletter"><i class="fas fa-envelope"></i> Newsletter</a>
    </nav>
  </aside>

  <!-- MAIN -->
  <div class="main">
    <header class="topbar">
      <div class="welcome">Hello, <span id="userName">User</span>!</div>
      <div class="controls">
        <i id="themeToggle" class="fas fa-moon" style="font-size:1.2rem;cursor:pointer;"></i>
        <button id="signOutBtn"><i class="fas fa-sign-out-alt"></i> Sign Out</button>
      </div>
    </header>

    <section class="content">
      <!-- Profile Card -->
      <div id="profile" class="card">
        <i class="fas fa-user-circle"></i>
        <h4>My Profile</h4>
        <p id="userEmail">user@example.com</p>
        <a href="profile.html">View & Edit Profile</a>
      </div>

      <!-- E-Pharmacy -->
      <div id="epharmacy" class="card">
        <i class="fas fa-pills"></i>
        <h4>E-Pharmacy</h4>
        <p>Order prescriptions with AI dosage checks.</p>
        <a href="epharmacy.html">Go to E-Pharmacy</a>
      </div>

      <!-- Consult Booking -->
      <div id="consult" class="card">
        <i class="fas fa-calendar-check"></i>
        <h4>Consult Booking</h4>
        <p>Manage your upcoming video consults.</p>
        <a href="consult.html">Book / View Consults</a>
      </div>

      <!-- Diet Plan -->
      <div id="diet" class="card">
        <i class="fas fa-apple-alt"></i>
        <h4>Diet Plan</h4>
        <p>See and update your personalized meal plans.</p>
        <a href="dietetics.html">View Diet Plans</a>
      </div>

      <!-- AI Therapist -->
      <div id="therapy" class="card">
        <i class="fas fa-brain"></i>
        <h4>AI Therapist</h4>
        <p>Continue your confidential chat session.</p>
        <a href="psychology.html#therapybot">Talk Now</a>
      </div>

      <!-- Newsletter -->
      <div id="newsletter" class="card">
        <i class="fas fa-envelope"></i>
        <h4>Newsletter</h4>
        <p>Stay updated with the latest AI health tips.</p>
        <a href="#subscribe" id="openNewsletter">Subscribe</a>
      </div>
    </section>
  </div>

  <!-- Firebase & Scripts -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    // Initialize AOS (not used here, but kept for consistency)
    AOS.init({ duration: 800 });

    document.addEventListener('DOMContentLoaded', () => {
      // THEME TOGGLE
      const themeToggle = document.getElementById('themeToggle');
      themeToggle.onclick = () => {
        document.documentElement.classList.toggle('dark');
        themeToggle.classList.toggle('fa-moon');
        themeToggle.classList.toggle('fa-sun');
      };

      // SIGN OUT
      document.getElementById('signOutBtn').onclick = () => {
        firebase.auth().signOut().then(() => {
          window.location.href = 'index.html';
        });
      };

      // AUTH STATE
      firebase.auth().onAuthStateChanged(user => {
        if (!user) {
          // not logged in
          return window.location.href = 'index.html';
        }
        // populate name & email
        document.getElementById('userName').textContent  = user.displayName || "User";
        document.getElementById('userEmail').textContent = user.email;
      });

      // Newsletter (simple alert)
      document.getElementById('openNewsletter').onclick = e => {
        e.preventDefault();
        alert('Thanks for subscribing to our newsletter!');
      };
    });
  </script>
</body>
</html>
